<app-navbarmesas></app-navbarmesas>

<div class="container-fluid">
  <div class="row mt-2 mb-2 text-center animate__animated animate__bounceIn">
    <h1>Realizar pedido</h1>
  </div>

  <div class="row d-flex justify-content-center me-3">
    <div class="ms-1">
      <div class="col-lg-6 d-flex mt-3 justify-content-center">
        <form class="form-inline d-flex col-lg-6">
          <input
            class="form-control animate__animated animate__bounceIn"
            id="barraPesquisa"
            type="search"
            placeholder="Pesquisar produto"
            aria-label="Search"
          />
          <button
            class="btn btn-outline-success ms-2 animate__animated animate__bounceIn"
            type="submit"
          >
            Pesquisar
          </button>
        </form>
      </div>
    </div>

    <!-- Visualização de categorias -->
    <div *ngIf="!visualizandoProdutos" class="col-lg-6">
      <div class="col-lg-12">
        <div
          class="row text-center d-flex justify-content-center scrolling-wrapper"
        >
          <div
            *ngFor="let categoria of categorias"
            class="card m-2"
            style="width: 10rem"
          >
            <img
              src="assets/img/categoriasimg/{{ categoria.idCategoria }}.jpg"
              class="ajusteImg"
              alt="Imagem da categoria"
            />
            <div class="card-body">
              <h5 class="card-title">{{ categoria.Nome_categoria }}</h5>
              <p class="card-text">{{ categoria.Descricao }}</p>
              <button
                class="btn btn-danger"
                (click)="selecionarCategoria(categoria)"
              >
                Selecionar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="visualizandoProdutos" class="col-lg-6">
      <div class="col-lg-12">
        <button (click)="voltarParaCategorias()">Voltar para categorias</button>
        <div class="row d-flex scrolling-wrapper">
          <div
            *ngFor="let produto of listaProdutos"
            class="card m-2 d-flex justify-content-center"
            style="width: 14rem"
          >
            <img
              src="assets/img/produtosimg/{{ produto.idProduto }}.jpg"
              class="ajusteImgProd"
              alt="Imagem do produto"
            />
            <div
              class="card-body d-flex flex-column justify-content-center align-items-center"
            >
              <h5 class="card-title">{{ produto.Nome_produto }}</h5>
              <p class="card-text" style="overflow: break-word">
                {{ produto.Descricao }}
              </p>
              <button
                class="btn btn-success"
                (click)="adicionaroAoPedido(produto)"
              >
                Adicionar ao pedido
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabela de produtos -->
    <div class="col-lg-5 mb-sm-5">
      <table class="table border animate__animated animate__bounceIn">
        <thead>
          <tr>
            <th scope="col">ID:</th>
            <th scope="col">Produto:</th>
            <th scope="col">Quantidade:</th>
            <th scope="col">Valor:</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let produto of listaProdutos">
            <th scope="row">{{ produto.idProduto }}</th>
            <td>{{ produto.Nome_produto }}</td>
            <td>
              {{
                produto.Preco_venda.toLocaleString("pt-BR", {
                  style: "currency",
                  currency: "BRL"
                })
              }}
            </td>
            <td>
              <button
                class="btn btn-success ms-2"
                (click)="adicionaroAoPedido(produto)"
              >
                Add
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-center">
        <button
          class="btn btn-secondary m-2 animate__animated animate__bounceIn"
        >
          Cancelar pedido
        </button>
        <button class="btn btn-success m-2 animate__animated animate__bounceIn">
          Confirmar Pedido
        </button>
      </div>
    </div>
  </div>
</div>
